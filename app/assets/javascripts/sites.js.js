// Generated by CoffeeScript 1.8.0
var HangManApp;

HangManApp = angular.module("HangManApp", []);

HangManApp.controller("HangManCtrl", [
  "$scope", function($scope) {
    $scope.openModal = false;
    $scope.letters = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];
    $scope.showHint = [];
    $scope.hintBtn = [];
    $scope.bodyCount = 6;
    $scope.winCount = 0;
    $scope.axe = [false, false, false, false, false, false];
    $scope.turnScore = 1000;
    $scope.gameScore = 0;
    $scope.showModal = function() {
      return $scope.openModal = true;
    };
    $scope.hideModal = function() {
      return $scope.openModal = false;
    };
    $scope.setSecret = function(secret) {
      $scope.secret = secret;
      console.log("secret", $scope.secret);
      return $scope.openModal = false;
    };
    $scope.guessLetter = function(letter) {
      if ($scope.secret.word.indexOf(letter) !== -1) {
        $scope[letter] = true;
        $scope.winCount += 1;
        if ($scope.winCount >= $scope.secret.word.length) {
          return $scope.celebrate();
        }
      } else {
        $scope.turnScore -= 25;
        $scope.axeBodypart($scope.bodyCount);
        $scope.bodyCount -= 1;
        if ($scope.bodyCount <= 0) {
          return $scope.fail();
        }
      }
    };
    $scope.getHint = function(index) {
      $scope.showHint[index] = true;
      $scope.turnScore -= 100;
      $scope.hintBtn[index] = true;
      return console.log($scope.turnScore);
    };
    $scope.hideHint = function(index) {
      return $scope.showHint[index] = false;
    };
    $scope.axeBodypart = function(num) {
      console.log("body part axed", num);
      return $scope.axe[num] = true;
    };
    $scope.resetGame = function() {
      $scope.showHint = [];
      $scope.bodyCount = 6;
      $scope.winCount = 0;
      $scope.turnScore = 1000;
      $scope.axe = [false, false, false, false, false, false];
      console.log("game reset");
      $scope.secret = {};
      return $scope.hintBtn = [];
    };
    $scope.celebrate = function() {
      console.log("you win!");
      $scope.gameScore += $scope.turnScore;
      $scope.showResultModal("You win!");
      return $scope.resetGame();
    };
    $scope.fail = function() {
      console.log("you lose!");
      $scope.showResultModal("You lose!");
      return $scope.resetGame();
    };
    return $scope.showResultModal = function(message) {
      $scope.result = message;
      return $scope.showResult = true;
    };
  }
]);
